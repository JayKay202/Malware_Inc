using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace Malware_Inc
{
    public partial class Form1 : Form
    {
        
        Random gen = new Random();
        Int64 Money = 0;
        List<Country> World = new List<Country>();
        List<Country> World2 = new List<Country>();
        List<Country> World3 = new List<Country>();
        Int64 devicesWorld;
        CountryList listCountry = new CountryList();
        CountryList listCountry2 = new CountryList();
        CountryList listCountry3 = new CountryList();
        Country China = new Country() { countryName = "China", devices = 954492000, fixedDevices = 954492000, restricted = true };
        Country India = new Country() { countryName = "India", devices = 869449000, fixedDevices = 869449000, restricted = false };
        Country UnitedStates = new Country() { countryName = "United States", devices = 222437600, fixedDevices = 222437600, restricted = false };
        Country Indonesia = new Country() { countryName = "Indonesia", devices = 174906200, fixedDevices = 174906200, restricted = false };
        Country Brazil = new Country() { countryName = "Brazil", devices = 140722900, fixedDevices = 140722900, restricted = false };
        Country Pakistan = new Country() { countryName = "Pakistan", devices = 130210500, fixedDevices = 130210500, restricted = false };
        Country WestAfrica = new Country() { countryName = "West Africa", devices = 278108382, fixedDevices = 278108382, restricted = false };
        Country SEAsia = new Country() { countryName = "South East Asia", devices = 466017577, fixedDevices = 466017577, restricted = true };
        Country Russia = new Country() { countryName = "Russia", devices = 100590000, fixedDevices = 100590000, restricted = true };
        Country Japan = new Country() { countryName = "Japan", devices = 88984000, fixedDevices = 88984000, restricted = false };
        Country Mexico = new Country() { countryName = "Mexico", devices = 83799242, fixedDevices = 83799242, restricted = false };
        Country Philippines = new Country() { countryName = "Philippines", devices = 69530300, fixedDevices = 69530300, restricted = false };
        Country Egypt = new Country() { countryName = "Egypt", devices = 60332020, fixedDevices = 60332020, restricted = true };
        Country Germany = new Country() { countryName = "Germany", devices = 56501200, fixedDevices = 56501200, restricted = false };
        Country Iran = new Country() { countryName = "Iran", devices = 54120500, fixedDevices = 54120500, restricted = true };
        Country Turkey = new Country() { countryName = "Turkey", devices = 53667505, fixedDevices = 53667505, restricted = false };
        Country France = new Country() { countryName = "France", devices = 46090800, fixedDevices = 46090800, restricted = false };
        Country UnitedKingdom = new Country() { countryName = "United Kingdom", devices = 44593500, fixedDevices = 44593500, restricted = false };
        Country Italy = new Country() { countryName = "Italy", devices = 41997744, fixedDevices = 41997744, restricted = false };
        Country SouthAfrica = new Country() { countryName = "South Africa", devices = 37087394, fixedDevices = 37087394, restricted = false };
        Country SouthKorea = new Country() { countryName = "South Korea", devices = 35153768, fixedDevices = 35153768, restricted = false };
        Country NorthKorea = new Country() { countryName = "North Korea", devices = 18010852, fixedDevices = 18010852, restricted = true };
        Country Colombia = new Country() { countryName = "Colombia", devices = 33265400, fixedDevices = 33265400, restricted = false };
        Country Spain = new Country() { countryName = "Spain", devices = 32626790, fixedDevices = 32626790, restricted = false };
        Country Ukraine = new Country() { countryName = "Ukraine", devices = 31787050, fixedDevices = 31787050, restricted = false };
        Country EastAfrica = new Country() { countryName = "East Africa", devices = 308258795, fixedDevices = 308258795, restricted = false };
        Country Poland = new Country() { countryName = "Poland", devices = 26951677, fixedDevices = 26951677, restricted = false };
        Country Sudan = new Country() { countryName = "Sudan", devices = 26574800, fixedDevices = 26574800, restricted = false };
        Country CentralAfrica = new Country() { countryName = "Central Africa", devices = 124094473, fixedDevices = 124094473, restricted = false };
        Country Canada = new Country() { countryName = "Canada", devices = 24741473, fixedDevices = 24741473, restricted = false };
        Country Iraq = new Country() { countryName = "Iraq", devices = 23824500, fixedDevices = 23824500, restricted = false };
        Country Angola = new Country() { countryName = "Angola", devices = 22688993, fixedDevices = 22688993, restricted = false };
        Country Kazakhstan = new Country() { countryName = "Kazakhstan", devices = 13075396, fixedDevices = 13075396, restricted = false };
        Country NewGuinea = new Country() { countryName = "New Guinea", devices = 6210994, fixedDevices = 6210994, restricted = false };
        Country BalticStates = new Country() { countryName = "Baltic States", devices = 4336500, fixedDevices = 4336500, restricted = false };
        Country Australia = new Country() { countryName = "Australia", devices = 17759982, fixedDevices = 17759982, restricted = false };
        Country Libya = new Country() { countryName = "Libya", devices = 4781442, fixedDevices = 4781442, restricted = false };
        Country SaudiArabia = new Country() { countryName = "Saudi Arabia", devices = 24204206, fixedDevices = 24204206, restricted = true };
        Country Sweden = new Country() { countryName = "Sweden", devices = 7050452, fixedDevices = 7050452, restricted = false };
        Country NewZealand = new Country() { countryName = "New Zealand", devices = 3363702, fixedDevices = 3363702, restricted = false };
        Country CentralAmerica = new Country() { countryName = "Central America", devices = 125137527, fixedDevices = 125137527, restricted = false };
        Country BalkanStates = new Country() { countryName = "Balkan States", devices = 38500000, fixedDevices = 38500000, restricted = false };
        Country Norway = new Country() { countryName = "Norway", devices = 3782035, fixedDevices = 3782035, restricted = false };
        Country Iceland = new Country() { countryName = "Iceland", devices = 238201, fixedDevices = 238201, restricted = false };
        Country Algeria = new Country() { countryName = "Algeria", devices = 30453385, fixedDevices = 30453385, restricted = false };
        Country Argentina = new Country() { countryName = "Argentina", devices = 31511305, fixedDevices = 31511305, restricted = false };
        Country Bolivia = new Country() { countryName = "Bolivia", devices = 8122610, fixedDevices = 8122610, restricted = false };
        Country Peru = new Country() { countryName = "Peru", devices = 22940343, fixedDevices = 22940343, restricted = false };
        Country Greenland = new Country() { countryName = "Greenland", devices = 39710, fixedDevices = 39710, restricted = false };
        Country Afganistan = new Country() { countryName = "Afganistan", devices = 26980239, fixedDevices = 26980239, restricted = false };
        Country MiddleEast  = new Country() { countryName = "Middle East", devices = 287700000, fixedDevices = 287700000, restricted = false };
        Country CentralEurope = new Country() { countryName = "Central Europe", devices = 31113993, fixedDevices = 31113993, restricted = false };
        Country CentralAsia = new Country() { countryName = "Central Asia", devices = 51695363, fixedDevices = 51695363, restricted = false };
        Country Finland = new Country() { countryName = "Finland", devices = 3875915, fixedDevices = 3875915, restricted = false };
        Country Zimbabwe = new Country() { countryName = "Zimbabwe", devices = 10338078, fixedDevices = 10338078, restricted = false };
        Country Morocco = new Country() { countryName = "Morocco", devices = 25704384, fixedDevices = 25704384, restricted = false };
        Country Caribbean = new Country() { countryName = "Caribbean", devices = 30412950, fixedDevices = 30412950, restricted = false };
        Country Botswana = new Country() { countryName = "Botswana", devices = 1631574, fixedDevices = 1631574, restricted = false };
        Country Madagascar = new Country() { countryName = "Madagascar", devices = 19164050, fixedDevices = 19164050, restricted = false };
        Malware User = new Malware() { Name = "test", InfectionLevel = 1, IncomeLevel = 1 };
        int MinInfected = 5;
        int MaxInfected = 9;
        Boolean reseachStart = false;
        double research = 0;
        int dif;
        double researchRate;
        string outcome;
        int dayTill = 0;
        int researchDate = 0;
        Boolean Trigger = true;
        Double possibleInfect = 0.15;
        Double Blocked = 0.85;
        Boolean restrict = true;
        Boolean half = false;


        Boolean start = false;
        Boolean first = true;
        int day = 1;


        public Form1()
        {
            InitializeComponent();
            
            //listCountry.CountriesList.Add(Iraq);
            //dataGridView1.DataSource = listCountry;
        }

        private void timer1_Tick(object sender, EventArgs e)
        {
            devicesWorld = 0;


            foreach (var country in World)
            {
                if (restrict == false && country.restricted == true)
                {
                    int chance = gen.Next(1, 5);
                    if (chance == 4)
                    {
                        country.restricted = false;
                    }
                }
                else if (country.restricted == false)
                {
                    int test = gen.Next(MinInfected, MaxInfected);
                    int LocalInfected = test * 10;
                    double possible = country.fixedDevices * possibleInfect;
                    double impossible = country.fixedDevices * Blocked;

                    country.devices = country.devices - LocalInfected;
                    if (country.devices < impossible)
                    {
                        country.devices = Convert.ToInt32(impossible);
                    }
                    if (country.devices < 0)
                    {
                        country.devices = 0;
                    }
                }
            }
            foreach (var country in World2)
            {
                if (restrict == false && country.restricted == true)
                {
                    int chance = gen.Next(1, 5);
                    if (chance == 4)
                    {
                        country.restricted = false;
                    }
                }
                else if (country.restricted == false)
                {
                    int test = gen.Next(MinInfected, MaxInfected);
                    int LocalInfected = test * 10;
                    double possible = country.fixedDevices * possibleInfect;
                    double impossible = country.fixedDevices * Blocked;

                    country.devices = country.devices - LocalInfected;
                    if (country.devices < impossible)
                    {
                        country.devices = Convert.ToInt32(impossible);
                    }
                    if (country.devices < 0)
                    {
                        country.devices = 0;
                    }
                }
            }
            foreach (var country in World3)
            {
                if (restrict == false && country.restricted == true)
                {
                    int chance = gen.Next(1, 5);
                    if (chance == 4)
                    {
                        country.restricted = false;
                    }
                }
                else if (country.restricted == false)
                {
                    int test = gen.Next(MinInfected, MaxInfected);
                    int LocalInfected = test * 10;
                    double possible = country.fixedDevices * possibleInfect;
                    double impossible = country.fixedDevices * Blocked;

                    country.devices = country.devices - LocalInfected;
                    if (country.devices < impossible)
                    {
                        country.devices = Convert.ToInt32(impossible);
                    }
                    if (country.devices < 0)
                    {
                        country.devices = 0;
                    }
                }
            }

            //China.devices = China.devices - 10000;
            //SouthKorea.devices = SouthKorea.devices - 10000;
            foreach (var country in World)
            {
                devicesWorld = devicesWorld + country.devices;
            }
            foreach (var country in World2)
            {
                devicesWorld = devicesWorld + country.devices;
            }
            foreach (var country in World3)
            {
                devicesWorld = devicesWorld + country.devices;
            }

            Int64 Infected = 5511741269 - devicesWorld;
            double PercentWorld = ((double)Infected / 5511741269);
            PercentWorld = PercentWorld * 100;
            if (PercentWorld >= 1)
            {
                restrict = false;
            }
            label12.Text = Convert.ToString(PercentWorld);
            //label12.Text = Convert.ToString(PercentWorld);
            progressBar1.Value = Convert.ToInt32(PercentWorld);
            label2.Text = "Healthy Devices: " + devicesWorld.ToString();
            label3.Text = "Infected Devices: " + Infected.ToString();
            if (PercentWorld == 100)
            {
                outcome = "win";
            }
            var bindingList = new BindingList<Country>(listCountry.CountriesList);
            var source = new BindingSource(bindingList, null);
            dataGridView1.DataSource = source;

            var bindingList2 = new BindingList<Country>(listCountry2.CountriesList);
            var source2 = new BindingSource(bindingList2, null);
            dataGridView2.DataSource = source2;

            var bindingList3 = new BindingList<Country>(listCountry3.CountriesList);
            var source3 = new BindingSource(bindingList3, null);
            dataGridView3.DataSource = source3;
            //List<Person> persons = new List<Person>();

            //persons.Add(test);
            dataGridView1.DataSource = World;
            dataGridView2.DataSource = World2;
            dataGridView3.DataSource = World3;
            if (half == false)
            {
                Int64 DayIncome = Infected * User.IncomeLevel / 40;
                Money = Money + DayIncome;
                labelMoney.Text = "Money: £" + Money;
                label1.Text = "Day: " + day;
                //var world = new List<int>();
                day++;

                if (reseachStart == false && dif == 0)
                {
                    if (Trigger == true)
                    {
                        if (day == 600)
                        {
                            researchDate = 601;
                            Trigger = false;

                        }
                        else if (User.InfectionLevel >= 6 || User.IncomeLevel >= 5)
                        {
                            if (day < 600)
                            {
                                researchDate = 600 + dayTill;
                                Trigger = false;
                            }
                            else
                            {
                                researchDate = day + gen.Next(25, 50);
                                Trigger = false;
                            }
                        }
                    }
                    else if (researchDate == day)
                    {
                        reseachStart = true;
                        researchRate = 0.01;
                    }

                }
                else if (reseachStart == false && dif == 1)
                {
                    if (Trigger == true)
                    {
                        if (day == 600)
                        {
                            researchDate = 601;
                            Trigger = false;

                        }
                        else if (User.InfectionLevel >= 4 || User.IncomeLevel >= 4)
                        {
                            if (day < 600)
                            {
                                researchDate = 600 + dayTill;
                                Trigger = false;
                            }
                            else
                            {
                                researchDate = day + gen.Next(25, 50);
                                Trigger = false;
                            }
                        }
                    }
                    else if (researchDate == day)
                    {
                        reseachStart = true;
                        researchRate = 0.025;
                    }

                }
                else if (reseachStart == false && dif == 2)
                {
                    if (Trigger == true)
                    {
                        if (day == 600)
                        {
                            researchDate = 601;
                            Trigger = false;

                        }
                        else if (User.InfectionLevel >= 6 || User.IncomeLevel >= 5)
                        {
                            if (day < 600)
                            {
                                researchDate = 600 + dayTill;
                                Trigger = false;
                            }
                            else
                            {
                                researchDate = day + gen.Next(25, 50);
                                Trigger = false;
                            }
                        }
                    }
                    else if (researchDate == day)
                    {
                        reseachStart = true;
                        researchRate = 0.04;
                    }


                }

                else if (reseachStart == true)
                {
                    research = research + researchRate;
                    label13.Text = "Research Percentage Complete: " + Convert.ToString(research);
                    if (research >= 100)
                    {
                        outcome = "lose";
                        research = 100;
                        start = false;
                    }
                    progressBar2.Value = Convert.ToInt32(research);
                }
                half = true;
            }
            else if (half == true)
            {
                half = false;
            }
        }

        private void button1_Click(object sender, EventArgs e)
        {
            if (first == true)
            {
                PopUp popup = new PopUp();
                DialogResult dialogresult = popup.ShowDialog();
                if (dialogresult == DialogResult.OK)
                {
                    Console.WriteLine("You clicked OK");
                }
                else if (dialogresult == DialogResult.Cancel)
                {
                    Console.WriteLine("You clicked either Cancel or X button in the top right corner");
                }
                popup.Dispose();

                string malwareName = PopUp.Malware_Name;
                User.Name = malwareName;
                dif = PopUp.Difficulty;//0,1,2
                label7.Text = "Malware Name: " + User.Name;
                dayTill = gen.Next(100, 150);
                World.Add(China);
                World.Add(India);
                World.Add(UnitedStates);
                World.Add(Indonesia);
                World.Add(Brazil);
                World.Add(Pakistan);
                World.Add(WestAfrica);
                World.Add(SEAsia);
                World.Add(Russia);
                World.Add(Japan);
                World.Add(Mexico);
                World.Add(Philippines);
                World.Add(Egypt);
                World.Add(Germany);
                World.Add(Iran);
                World.Add(Turkey);
                World.Add(France);
                World.Add(UnitedKingdom);
                World.Add(Italy);
                World.Add(SouthAfrica);

                World2.Add(SouthKorea);
                World2.Add(NorthKorea);
                World2.Add(Colombia);
                World2.Add(Spain);
                World2.Add(Ukraine);
                World2.Add(EastAfrica);
                World2.Add(Argentina);
                World2.Add(Poland);
                World2.Add(Sudan);
                World2.Add(CentralAfrica);
                World2.Add(Canada);
                World2.Add(Iraq);
                World2.Add(Angola);
                World2.Add(Kazakhstan);
                World2.Add(NewGuinea);
                World2.Add(BalticStates);
                World2.Add(Australia);
                World2.Add(Libya);
                World2.Add(SaudiArabia);
                World2.Add(Sweden);

                World3.Add(NewZealand);
                World3.Add(CentralAmerica);
                World3.Add(BalkanStates);
                World3.Add(Norway);
                World3.Add(Iceland);
                World3.Add(Algeria);
                World3.Add(Bolivia);
                World3.Add(Peru);
                World3.Add(Greenland);
                World3.Add(Afganistan);
                World3.Add(MiddleEast);
                World3.Add(CentralEurope);
                World3.Add(CentralAsia);
                World3.Add(Finland);
                World3.Add(Zimbabwe);
                World3.Add(Morocco);
                World3.Add(Caribbean);
                World3.Add(Botswana);
                World3.Add(Madagascar);
                first = false;
                dataGridView1.DataSource = World;
                dataGridView2.DataSource = World2;
                dataGridView3.DataSource = World3;
                dataGridView1.Columns["fixedDevices"].Visible = false;
                dataGridView1.Columns["restricted"].Visible = false;
                dataGridView1.Columns["countryName"].HeaderText = "Country Name";
                dataGridView2.Columns["fixedDevices"].Visible = false;
                dataGridView2.Columns["restricted"].Visible = false;
                dataGridView2.Columns["countryName"].HeaderText = "Country Name";
                dataGridView3.Columns["fixedDevices"].Visible = false;
                dataGridView3.Columns["restricted"].Visible = false;
                dataGridView3.Columns["countryName"].HeaderText = "Country Name";
                timer2.Enabled = true;
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware is currently a virus and can spread by Selling Infected USB");
            }
            
            if (start == false)
            {
                start = true;
                timer1.Enabled = true;
                timer2.Enabled = true;
            }
            else if (start == true)
            {
                start = false;
                timer1.Enabled = false;
                timer1.Enabled = false;
            }

        }

        private void timer2_Tick(object sender, EventArgs e)
        {
            if (outcome == "win")
            {
                start = false;
                timer1.Enabled = false;
                timer2.Enabled = false;
                System.Windows.Forms.MessageBox.Show("Congrates");
                System.Threading.Thread.Sleep(5000);
                Application.Exit();
            }
            else if (outcome == "lose")
            {
                start = false;
                timer1.Enabled = false;
                timer2.Enabled = false;
                System.Windows.Forms.MessageBox.Show("loser");
                System.Threading.Thread.Sleep(5000);
                Application.Exit();

            }
            label17.Text = Convert.ToString(MinInfected);
            label18.Text = Convert.ToString(MaxInfected);
            if(tabControl1.SelectedIndex == 0)
            {
                if (start == true)
                {
                    timer1.Enabled = true;
                }
            }
            else if (tabControl1.SelectedIndex == 1)
            {
                timer1.Enabled = false;
            }
            if (trackBar1.Value == 0)
            {
                timer1.Interval = 1000;
            }
            else if (trackBar1.Value == 1)
            {
                timer1.Interval = 500;
            }
            else if (trackBar1.Value == 2)
            {
                timer1.Interval = 250;
            }
           

        }

        private void buttonIncomeUpgrade_Click(object sender, EventArgs e)
        {
            if (User.IncomeLevel == 1 && Money >= 30000)
            {
                User.IncomeLevel = 2;
                Money = Money - 30000;
                label9.Text = "Level 2";
                labelMoney.Text = "Money: " + Money;
                label8.Text = "Upgrade Income Level to 3 Costs £75000";
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Upgraded to a worm");

            }
            else if (User.IncomeLevel == 2 && Money >= 75000)
            {
                User.IncomeLevel = 3;
                Money = Money - 75000;
                label9.Text = "Level 3";
                labelMoney.Text = "Money: £" + Money;
                label8.Text = "Upgrade Income Level to 4 Costs £200000";
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Upgraded to a adware");
            }
            else if (User.IncomeLevel == 3 && Money >= 200000)
            {
                User.IncomeLevel = 4;
                Money = Money - 200000;
                label9.Text = "Level 4";
                labelMoney.Text = "Money: £" + Money;
                label8.Text = "Upgrade Income Level to 5 Costs £500000";
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Upgraded to a malvertising");
            }
            else if (User.IncomeLevel == 4 && Money >= 500000)
            {
                User.IncomeLevel = 5;
                Money = Money - 500000;
                label9.Text = "Level 5";
                labelMoney.Text = "Money: £" + Money;
                label8.Text = "Upgrade Income Level to 6 Costs £1000000";
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Upgraded to a spyware");
            }
            else if (User.IncomeLevel == 5 && Money >= 1000000)
            {
                User.IncomeLevel = 6;
                Money = Money - 1000000;
                label9.Text = "Level 6";
                labelMoney.Text = "Money: £" + Money;
                label8.Text = "Income Level Maxed";
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Upgraded to a ransomware");
                
            }
            else if (User.IncomeLevel == 6)
            {
                System.Windows.Forms.MessageBox.Show("Already Fully Upgraded");
            }
            else 
            {
                System.Windows.Forms.MessageBox.Show("Insufficent Funds");
            }
            listBox1.SelectedIndex = listBox1.Items.Count - 1;
        }

        private void Form1_Load(object sender, EventArgs e)
        {

        }
        private void buttonInfectionUpgrade_Click(object sender, EventArgs e)
        {
            if (User.InfectionLevel == 1 && Money >= 100000)
            {
                User.InfectionLevel = 5;
                Money = Money - 100000;
                label10.Text = "Level 2";
                MinInfected = User.InfectionLevel * 20;
                MaxInfected = User.InfectionLevel * 23;
                labelMoney.Text = "Money: £" + Money;
                labelIfectUpgrade.Text = "Upgrade Infection Level to 3 Costs £1000000";
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware can now spread using LAN Infection");

            }
            else if (User.InfectionLevel == 5 && Money >= 1000000)
            {
                User.InfectionLevel = 10;
                Money = Money - 1000000;
                label10.Text = "Level 3";
                MinInfected = User.InfectionLevel * 30;
                MaxInfected = User.InfectionLevel * 33;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware can now spread using P2P File Share");
                labelIfectUpgrade.Text = "Upgrade Infection Level to 4 Costs £2000000";
            }
            else if (User.InfectionLevel == 10 && Money >= 2000000)
            {
                User.InfectionLevel = 15;
                Money = Money - 2000000;
                label10.Text = "Level 4";
                MinInfected = User.InfectionLevel * 40;
                MaxInfected = User.InfectionLevel * 43;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware can now spread using Email Attachments");
                labelIfectUpgrade.Text = "Upgrade Infection Level to 5 Costs £5000000";
            }
            else if (User.InfectionLevel == 15 && Money >= 5000000)
            {
                User.InfectionLevel = 20;
                Money = Money - 5000000;
                label10.Text = "Level 5";
                MinInfected = User.InfectionLevel * 50;
                MaxInfected = User.InfectionLevel * 53;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware can now spread using Instant Messaging");
                labelIfectUpgrade.Text = "Upgrade Infection Level to 6 Costs £7500000";
            }
            else if (User.InfectionLevel == 20 && Money >= 7500000)
            {
                User.InfectionLevel = 25;
                Money = Money - 7500000;
                label10.Text = "Level 6";
                MinInfected = User.InfectionLevel * 60;
                MaxInfected = User.InfectionLevel * 63;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware can now spread using Social Media");
                labelIfectUpgrade.Text = "Upgrade Infection Level to 7 Costs £10000000";
                //app stores
            }
            else if (User.InfectionLevel == 25 && Money >= 100000000)
            {
                User.InfectionLevel = 30;
                Money = Money - 100000000;
                label10.Text = "Level 7";
                MinInfected = User.InfectionLevel * 70;
                MaxInfected = User.InfectionLevel * 73;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware can now spread using Drive Website Pop-ups");
                labelIfectUpgrade.Text = "Upgrade Infection Level to 8 Costs £20000000";
                //app stores
            }
            else if (User.InfectionLevel == 30 && Money >= 200000000)
            {
                User.InfectionLevel = 35;
                Money = Money - 200000000;
                label10.Text = "Level 8";
                MinInfected = User.InfectionLevel * 70;
                MaxInfected = User.InfectionLevel * 73;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware can now spread using Drive by Sites");
                labelIfectUpgrade.Text = "Upgrade Infection Level to 8 Costs £50000000";
                //app stores
            }
            else if (User.InfectionLevel == 35 && Money >= 500000000)
            {
                User.InfectionLevel = 40;
                Money = Money - 500000000;
                label10.Text = "Level 9";
                MinInfected = User.InfectionLevel * 95;
                MaxInfected = User.InfectionLevel * 103;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + Convert.ToString(day) + ": Malware can now spread using App Store");
                labelIfectUpgrade.Text = "Infection Level Maxed";
                //app stores
            }
            else if (User.InfectionLevel == 40)
            {
                System.Windows.Forms.MessageBox.Show("Already Fully Upgraded");
            }
            else
            {
                System.Windows.Forms.MessageBox.Show("Insufficent Funds");
            }
            listBox1.SelectedIndex = listBox1.Items.Count - 1;
        }

        private void button2_Click(object sender, EventArgs e)
        {
            if (possibleInfect == 0.15 && Money >= 30000)
            {
                possibleInfect = 0.22;
                Blocked = 0.78;
                Money = Money - 30000;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + day + ": Windows 7 devices can now be infected");
                label19.Text = "Possible Infectable Devices to Level 3" + Environment.NewLine + "Cost £75000";

            }
            else if (possibleInfect == 0.22 && Money >= 75000)
            {
                possibleInfect = 0.30;
                Blocked = 0.70;
                Money = Money - 75000;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + day + ": Android devices can now be infected");
                label19.Text = "Possible Infectable Devices to Level 4" + Environment.NewLine + "Cost £1000000";
            }
            else if (possibleInfect == 0.30 && Money >= 1000000)
            {
                possibleInfect = 0.60;
                Blocked = 0.40;
                Money = Money - 1000000;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + day + ": Windows 10 devices can now be infected");
                label19.Text = "Possible Infectable Devices to Level 5" + Environment.NewLine + "Cost £2000000";
            }
            else if (possibleInfect == 0.60 && Money >= 2000000)
            {
                possibleInfect = 0.80;
                Blocked = 0.20;
                Money = Money - 2000000;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + day + ": IOS devices can now be infected");
                label19.Text = "Possible Infectable Devices to Level 6" + Environment.NewLine + "Cost £5000000";
            }
            else if (possibleInfect == 0.80 && Money >= 5000000)
            {
                possibleInfect = 1;
                Blocked = 0;
                Money = Money - 5000000;
                labelMoney.Text = "Money: £" + Money;
                listBox1.Items.Add("Day " + day + ": National Infrastructure can now be infected");
                label19.Text = "Possible Infectable Devices Maxed";
            }
            else if (possibleInfect == 1)
            {
                System.Windows.Forms.MessageBox.Show("Already Fully Upgraded");
            }
            else
            {
                System.Windows.Forms.MessageBox.Show("Insufficent Funds");
            }
            listBox1.SelectedIndex = listBox1.Items.Count - 1;

        }

        private void labelIfectUpgrade_Click(object sender, EventArgs e)
        {

        }

        private void label8_Click(object sender, EventArgs e)
        {

        }
    }
    }